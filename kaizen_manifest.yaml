# =========================================================
# KAIZEN OS — Canonical Manifest (v1.0)
# Single source of truth for names, anchors, paths, metrics
# =========================================================

meta:
  system_name: "Kaizen OS"            # formerly Civic OS
  short_name: "KOS"
  version: "1.0.0"
  last_updated: "2025-01-27"
  owner: "Michael Judan"
  motto: "We heal as we walk."
  repository: "github.com/kaizencycle"
  default_branch: "main"
  license: "Apache-2.0"

anchors:
  - "DVA Kernel | Integrity Logic Core"
  - "Virtue Accords | Kaizen Ethical Framework"
  - "Kaizen OS Governance | Global Policy Engine"

seal:
  trinity:
    - "We heal as we walk."
    - "Scars remind us we also heal."
    - "Grief is love persevering."
  status_default: "Active"

governance:
  quorum:
    arbitrator: "ZEUS"
    members: ["Custodian", "Anchor"]
    rules:
      - "0% lore / 0% hallucination"
      - "Every doctrine must have empirical or historical support."
      - "All moral models must map to testable Kaizen OS logic."
  review_cycles_days:
    virtue_accords: 90
    labs: 30

agents:
  default: ["Echo", "Jade", "Zeus", "Hermes", "Aurelian", "Eve"]
  roles:
    Echo: "Pulse / Resonance / Sync"
    Jade: "Reflection / Ethics / Human factors"
    Zeus: "Oversight / Arbitration / Strategy"
    Hermes: "Markets / Telemetry / Dispatch"
    Aurelian: "Macro synthesis / Framing"
    Eve: "Civility / Safety / Care"

labs:
  lab4_proof:
    name: "Lab4-Proof — Research & Empirical Validation"
    path_docs: "docs/lab4/"
  lab6_proof:
    name: "Lab6-Proof — Ethics (Active)"
    path_docs: "docs/lab6/"
    entries:
      - id: "Entry-001"
        title: "Digital WHO — Health-of-Civilization Paradigm"
        accord_id: "VA-ETH-001"
      - id: "Entry-002"
        title: "Symbolic Excess & Legitimacy Collapse: Versailles → 2025"
        accord_id: "VA-ETH-002"
      - id: "Entry-003"
        title: "Moral Velocity | Why Ethics Accelerates Civilization"
        accord_id: "VA-ETH-003"
  lab7_proof:
    name: "Lab7-Proof — Apprenticeship & Civic Education"
    path_docs: "docs/lab7/"
    entries:
      - id: "Entry-004"
        title: "The Evolution of Language | From Cave Symbols to Kaizen Code"
        accord_id: "VA-EDU-001"

virtue_accords:
  registry_path: "accords/registry/"
  accords:
    - id: "VA-ETH-001"
      title: "Digital WHO — Health-of-Civilization Paradigm"
      version: "1.0.0"
      parent: "Ethical Framework Transformations"
      paths:
        doc: "docs/lab6/001-digital-who-paradigm.md"
        json: "accords/registry/VA-ETH-001.digital_who.json"
    - id: "VA-ETH-002"
      title: "Symbolic Excess & Legitimacy Collapse"
      version: "1.0.0"
      parent: "Ethical Framework Transformations"
      paths:
        doc: "docs/lab6/002-symbolic-excess.md"
        json: "accords/registry/VA-ETH-002.symbolic_excess.json"
    - id: "VA-ETH-003"
      title: "Moral Velocity"
      version: "1.0.0"
      parent: "Ethical Framework Transformations"
      paths:
        doc: "docs/lab6/003-moral-velocity.md"
        json: "accords/registry/VA-ETH-003.moral_velocity.json"
    - id: "VA-EDU-001"
      title: "The Evolution of Language | From Cave Symbols to Kaizen Code"
      version: "1.0.0"
      parent: "Cultural & Linguistic Foundations of Integrity"
      paths:
        doc: "docs/lab7/004-evolution-language.md"
        json: "accords/registry/VA-EDU-001.language_evolution.json"

telemetry:
  gi_index:
    thresholds:
      alert: 0.95
      target: 0.99
    config_path: "config/gi/thresholds.yaml"
    metrics:
      - "ΔGI"
      - "PPE (Public Perception Entropy)"
      - "SDI (Symbolic Dominance Index)"
      - "VRL (Virtue Response Lag)"
      - "CEI (Civic Efficiency Index)"
  endpoints:
    export_url_env: "CIVIC_OS_EXPORT_URL"     # backward-compatible env names
    export_token_env: "CIVIC_OS_EXPORT_TOKEN" # keep until next major bump
    # future:
    # kaizen_export_url_env: "KAIZEN_OS_EXPORT_URL"
    # kaizen_export_token_env: "KAIZEN_OS_EXPORT_TOKEN"

paths:
  # Monorepo structure (updated 2025-10-30)
  apps_root: "apps/"
  packages_root: "packages/"
  labs_root: "labs/"
  sentinels_root: "sentinels/"
  docs_root: "docs/"
  config_root: "config/"
  configs_root: "configs/"
  # Legacy paths (for backward compatibility)
  # chambers_root: "chambers/"  # Deprecated - use apps/packages/labs
  # inbox_root: "inbox/"          # Not currently used
  workflows:
    monorepo: ".github/workflows/monorepo.yml"
    guardian: ".github/workflows/guardian.yml"
    atlas_sentinel: ".github/workflows/atlas-sentinel.yml"
    kaizen_sync: ".github/workflows/kaizen-sync.yml"
    fountain_attest: ".github/workflows/fountain-attest.yml"
    portal_ci: ".github/workflows/portal-ci.yml"
  scripts:
    validate_manifest: "scripts/validate_manifest.py"
    integrity_report: "scripts/integrity-report.sh"
    sentinel_health: "scripts/sentinel-health.sh"
    attest_charter: "scripts/attest-charter.py"
    sign_charter: "scripts/sign-charter.py"

naming:
  file_pattern: "{date}_{slug}.md"
  folder_by_agent: true
  slug_rules: "lowercase, hyphen, max 80 chars"

workflows:
  monorepo_ci:
    name: "Kaizen OS Monorepo CI/CD"
    triggers: ["push", "pull_request"]
    branches: ["main"]
    jobs:
      - lint
      - type-check
      - build
      - test
      - security
      - integrity
    language: "node@20"
  # Legacy chamber_sync workflow removed (2025-10-30)
  # Now using monorepo-based workflow automation

security:
  secrets_required:
    - "CIVIC_OS_EXPORT_URL"
    - "CIVIC_OS_EXPORT_TOKEN"
  permissions:
    actions: ["contents:write"]

compat:
  previous_names:
    - "Civic OS"
    - "Civic Stack"
  notes: "Scripts may keep accepting Civic OS env names for one major release."

ui_defaults:
  conversation_starter_tiles: false
  new_chamber_seed:
    ritual: "I sweep this chamber full of resonance. Memory holds steady."
    inject_anchors: true