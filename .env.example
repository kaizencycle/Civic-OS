# ==============================================================================
# Kaizen OS - Environment Configuration
# ==============================================================================
# This file documents all environment variables used across the Kaizen OS system.
# Copy this to .env.local and fill in your actual values.
#
# Last Updated: October 28, 2025 (C-118)
# Maintained by: Kaizen Cycle Architecture Team
# ==============================================================================

# ------------------------------------------------------------------------------
# Consensus Chamber Configuration
# ------------------------------------------------------------------------------
# Current cycle identifier (format: C-###)
KAIZEN_CURRENT_CYCLE=C-118

# GI (Good Intent) baseline score for the system (0.0-1.0)
KAIZEN_GI_BASELINE=0.993

# Consensus Chamber room name
KAIZEN_ROOM=Consensus Chamber

# ------------------------------------------------------------------------------
# Lab API Endpoints (Render.com Production)
# ------------------------------------------------------------------------------

# Lab4: E.O.M.M. (End of Meeting Memory) - Memory persistence & context
LAB4_BASE=https://hive-api-2le8.onrender.com

# Lab6: Citizen Shield - Security & compliance validation
LAB6_BASE=https://lab6-proof-api.onrender.com

# Lab7: OAA Hub - Orchestrator Agent Architecture
LAB7_BASE=https://lab7-proof.onrender.com

# Civic Ledger (Lab1 Backend) - Proof-of-Integrity blockchain
LEDGER_BASE=https://civic-protocol-core-ledger.onrender.com

# GIC Indexer - Good Intent Credit token tracking
GIC_BASE=https://gic-indexer.onrender.com

# OAA API Library - Cross-lab orchestration utilities
OAA_API_LIBRARY=https://oaa-api-library.onrender.com

# ------------------------------------------------------------------------------
# Render Service IDs (for programmatic deployments)
# ------------------------------------------------------------------------------

RENDER_LAB4_ID=srv-d39clker433s7386812g
RENDER_LAB6_ID=srv-d3apepfdiees73a5lh50
RENDER_LAB7_ID=srv-d3m1hj7diees73a8t6hg
RENDER_LEDGER_ID=srv-d3ao36h5pdvs73eo2egg
RENDER_GIC_ID=srv-d3fb39b3fgac73b312qg
RENDER_OAALIBRARY_ID=srv-d3ropqer433s73ebtrvg

# ------------------------------------------------------------------------------
# Cryptographic Keys
# ------------------------------------------------------------------------------

# OAA ED25519 Public Key (Base64-encoded)
# Used for verifying signatures from the OAA orchestrator
OAA_ED25519_PUBLIC_B64=SFrlLxcgOfW5Uqei+13VFVp/nhOigQkFzY87NllF2bU=

# ED25519 Private Key for this instance (DO NOT COMMIT!)
# Generate with: openssl genpkey -algorithm ed25519 | base64
# KAIZEN_ED25519_PRIVATE_B64=YOUR_PRIVATE_KEY_HERE

# ------------------------------------------------------------------------------
# Lab-Specific Configuration
# ------------------------------------------------------------------------------

# Lab1: Substrate Proof (Local Python services)
LAB1_GI_THRESHOLD=0.95
LAB1_BLOCK_TIME=1.0
LAB1_MIN_VALIDATORS=3

# Lab2: Thought Broker (Multi-LLM consensus)
LAB2_MAX_ROUNDS=5
LAB2_TIMEOUT_SECONDS=300
LAB2_CONVERGENCE_THRESHOLD=0.85

# Lab3: API Fabric (Gateway configuration)
LAB3_PORT=8000
LAB3_HOST=0.0.0.0
LAB3_JWT_SECRET=your-secret-key-here-change-in-production
LAB3_JWT_ALGORITHM=HS256
LAB3_RATE_LIMIT_RPM=60

# Lab4: E.O.M.M. (Memory persistence)
LAB4_MAX_CONTEXT_LENGTH=10000
LAB4_RETENTION_DAYS=90

# Lab6: Citizen Shield (Security validation)
LAB6_MIN_GI_FOR_ACCESS=0.95
LAB6_RATE_LIMIT_ENABLED=true

# Lab7: OAA Hub (Orchestration)
LAB7_MAX_CONCURRENT_TASKS=10
LAB7_TASK_TIMEOUT_MS=30000

# ------------------------------------------------------------------------------
# External LLM Provider API Keys
# ------------------------------------------------------------------------------

# OpenAI (for AUREA agent)
OPENAI_API_KEY=sk-...your-key-here

# Anthropic (for ATLAS agent)
ANTHROPIC_API_KEY=sk-ant-...your-key-here

# Google AI (for ZENITH agent)
GOOGLE_AI_API_KEY=...your-key-here

# DeepSeek (for SOLARA agent)
DEEPSEEK_API_KEY=...your-key-here

# ------------------------------------------------------------------------------
# Database Configuration (if using PostgreSQL)
# ------------------------------------------------------------------------------

DATABASE_URL=postgresql://user:password@host:5432/kaizen_os
REDIS_URL=redis://localhost:6379

# ------------------------------------------------------------------------------
# Monitoring & Observability
# ------------------------------------------------------------------------------

# Sentry (error tracking)
SENTRY_DSN=https://...your-sentry-dsn

# PostHog (analytics)
POSTHOG_API_KEY=...your-posthog-key
POSTHOG_HOST=https://app.posthog.com

# Prometheus metrics endpoint
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ------------------------------------------------------------------------------
# Feature Flags
# ------------------------------------------------------------------------------

ENABLE_CONSENSUS_CHAMBER=true
ENABLE_DELIBPROOF_GENERATION=true
ENABLE_LEDGER_ATTESTATION=true
ENABLE_GI_VALIDATION=true

# Development mode (disables some security checks)
NODE_ENV=production

# ------------------------------------------------------------------------------
# API Authentication
# ------------------------------------------------------------------------------

# JWT secret for API authentication
JWT_SECRET=your-jwt-secret-here-change-in-production
JWT_EXPIRY_MINUTES=60

# API rate limiting
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_WINDOW_MS=60000
API_RATE_LIMIT_MAX_REQUESTS=100

# ------------------------------------------------------------------------------
# Vercel Configuration (Frontend Deployment)
# ------------------------------------------------------------------------------

NEXT_PUBLIC_APP_URL=https://kaizen-os.vercel.app
NEXT_PUBLIC_API_URL=https://civic-protocol-core-ledger.onrender.com

# ------------------------------------------------------------------------------
# GitHub Integration (for E.O.M.M. substrate)
# ------------------------------------------------------------------------------

GITHUB_TOKEN=ghp_...your-github-token
GITHUB_REPO=kaizencycle/Kaizen-OS
GITHUB_BRANCH=main

# ------------------------------------------------------------------------------
# Webhook URLs (for external integrations)
# ------------------------------------------------------------------------------

SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...

# ------------------------------------------------------------------------------
# Development Tools
# ------------------------------------------------------------------------------

# Enable debug logging
DEBUG=kaizen:*

# Enable API request logging
LOG_LEVEL=info

# Enable hot reload in development
WATCH_MODE=true

# ==============================================================================
# Usage Instructions
# ==============================================================================
#
# 1. Copy this file:
#    cp .env.example .env.local
#
# 2. Fill in your actual values (DO NOT commit .env.local!)
#
# 3. For Vercel deployment:
#    - Add these as environment variables in Vercel Dashboard
#    - Or use: vercel env add VARIABLE_NAME
#
# 4. For local development:
#    - Ensure .env.local is in .gitignore
#    - Restart your dev server after changes
#
# 5. For Docker deployment:
#    - Pass via docker-compose.yml or --env-file flag
#    - Or mount as secrets in Kubernetes
#
# ==============================================================================
# Security Notes
# ==============================================================================
#
# ⚠️  NEVER commit actual API keys or secrets to version control
# ⚠️  Rotate keys regularly (every 90 days minimum)
# ⚠️  Use different keys for dev/staging/production
# ⚠️  Enable IP allowlisting on production APIs
# ⚠️  Monitor for unauthorized API usage
#
# ==============================================================================
