{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://kaizencycle.org/schemas/telemetry/gi_metrics.json",
  "title": "Global Integrity (GI) Metrics Schema",
  "description": "Schema for Global Integrity telemetry metrics in Kaizen OS",
  "version": "1.0.0",
  "type": "object",
  "required": ["timestamp", "service", "gi_score", "metrics"],
  "properties": {
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of metric collection"
    },
    "service": {
      "type": "string",
      "description": "Name of the service reporting metrics",
      "examples": ["ledger-api", "hub-web", "shield-api"]
    },
    "gi_score": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Current Global Integrity score (0.0 to 1.0)"
    },
    "metrics": {
      "type": "object",
      "description": "Detailed GI metrics",
      "properties": {
        "delta_gi": {
          "type": "number",
          "description": "Change in GI from previous measurement (Î”GI)"
        },
        "ppe": {
          "type": "number",
          "minimum": 0,
          "description": "Public Perception Entropy - measure of public opinion volatility"
        },
        "sdi": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Symbolic Dominance Index - measure of symbolic vs. substantive value"
        },
        "vrl": {
          "type": "number",
          "minimum": 0,
          "description": "Virtue Response Lag - time delay in ethical response (milliseconds)"
        },
        "cei": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Civic Efficiency Index - measure of governance efficiency"
        }
      }
    },
    "thresholds": {
      "type": "object",
      "description": "Configured threshold values",
      "properties": {
        "alert": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "GI threshold that triggers alerts",
          "default": 0.95
        },
        "target": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 1.0,
          "description": "Target GI score to maintain",
          "default": 0.99
        }
      }
    },
    "status": {
      "type": "string",
      "enum": ["healthy", "warning", "critical", "degraded"],
      "description": "Overall integrity status"
    },
    "metadata": {
      "type": "object",
      "description": "Additional context",
      "properties": {
        "version": {
          "type": "string",
          "description": "Kaizen OS version"
        },
        "environment": {
          "type": "string",
          "enum": ["development", "staging", "production"],
          "description": "Deployment environment"
        },
        "region": {
          "type": "string",
          "description": "Geographic region"
        }
      }
    }
  },
  "examples": [
    {
      "timestamp": "2025-10-30T12:00:00Z",
      "service": "ledger-api",
      "gi_score": 0.97,
      "metrics": {
        "delta_gi": 0.02,
        "ppe": 0.15,
        "sdi": 0.12,
        "vrl": 250,
        "cei": 0.89
      },
      "thresholds": {
        "alert": 0.95,
        "target": 0.99
      },
      "status": "healthy",
      "metadata": {
        "version": "1.0.0",
        "environment": "production",
        "region": "us-west"
      }
    }
  ]
}
